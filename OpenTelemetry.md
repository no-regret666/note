# `OpenTelemetry`

一个可观测性框架和工具包。

#### 什么是可观测性

可观测性是通过检查系统的输出来了解系统内部的能力。在软件的上下文中，这意味着能够通过检查系统的遥测数据（包括跟踪、指标和日志）来了解系统的内部状态。

要使系统可观察，必须对其进行检测。也就是说，代码必须发出跟踪、指标或日志。然后，必须将检测数据发送到可观测性后端。

## Traces（链路追踪）

是什么？

- 用来记录一次请求在分布式系统中的完整调用路径。
- 主要由`TraceID`和多个`Span`组成。
  - `TraceId`：标识一次请求（例如“下单请求”）
  - `Span`：请求中的一个片段（例如“调用库存服务”、“调用支付服务”）

解决的问题：

- 一次调用跨多个微服务，如何知道哪个环节慢？
- 哪些服务出错了？延迟在哪一层？



## Metrics（度量指标）

是什么？

- 可量化的数值型指标，随时间变化，通常是时序数据。
- 常见四类：
  1. Counter：单调递增（请求总数、错误总数）
  2. Gauge：可增可减（内存使用、连接数）
  3. Histogram：分桶统计（接口延迟分布）
  4. Summary：分位数统计（P95、P55响应时间）

解决的问题：

- 系统健康状态如何？
- QPS、延迟、错误率是多少？
- 哪些接口是瓶颈？



## 日志

是什么？

- 系统或应用输出的时间记录，通常是非结构化或半结构化文本。
- 记录时间点上发生的具体事情。

解决的问题？

- 请求失败的堆栈是什么？
- 为什么业务逻辑出错？
- 调试和审计？





